<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Profile Page</title>
    <script src="https://www.gstatic.com/firebasejs/4.6.2/firebase.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.6.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.6.2/firebase-auth.js"></script>
    <script src="firebaseInit.js"></script>
    <script>
      function userCheck(){
      firebase.auth().onAuthStateChanged(function(user){
          if(user){
          var email = user.email;
          alert("당신의 이메일은 : " + email);
          } else {
              alert('로그아웃');
              console.log("user status : " + user);
              location.href="index.html";
          }
         });
        }


      function logOutStart(){
        firebase.auth().signOut().then(function() {
            // Sign-out successful.
            console.log(firebase.auth().currentUser);
            location.href="index.html";
          }).catch(function(error) {
            // An error happened.
          });
      }

      userCheck();
      </script>
</head>
<body>
    <p>프로필 페이지 입니다.</p>
    <button type="button" id="logOut" onclick="logOutStart();">로그아웃</button>    
</body>
</html>